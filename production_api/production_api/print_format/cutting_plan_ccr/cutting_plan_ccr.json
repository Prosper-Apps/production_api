{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-08 13:00:22.023795",
 "css": ".table-head, .table-data {\n    text-align:center !important;\n    border: 1px solid #000;\n    \n}\n.table-head{\n    font-weight:600;\n}\n.print-format td{\n    font-size: 12px !important;\n    padding: 4px !important;\n}\ntable{\n    width:100%;\n}\n.avoid-page-break{\n    page-break-inside: avoid;\n}\n",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Cutting Plan",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div>\\n\\t{% set ccr_data = get_dict_object(get_ccr(doc.name)) %}\\n\\t{% set date = get_created_date(frappe.utils.nowdate()) %}\\n\\t{% set time = frappe.utils.nowtime()[:8] %}\\n\\t<div style=\\\"width:100%;text-align:end;\\\">\\n\\t\\tTime: {{ date }} {{ time }}\\n\\t</div>\\n\\t<h3 style=\\\"text-align:center;text-decoration: underline;\\\">CCR</h3>\\n\\t{% for marker in ccr_data.marker_data %}\\n\\t\\t<div class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<h4>{{marker}}</h4>\\n\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Received Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Balance Weight</td>\\n\\t\\t\\t\\t\\t{% for size in ccr_data.sizes %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{size}}</td>\\n\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Piece Weight</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% for (colour, cloth_type) in ccr_data.marker_data[marker] %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{loop.index}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{colour}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth_type}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['received_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['used_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['balance_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t{% for size in ccr_data.sizes %}\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)][size]['bits'] | int }}</td>\\n\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['total_pieces'] | int}}</td>\\n\\t\\t\\t\\t\\t\\t{% set piece_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['used_weight']/ccr_data.marker_data[marker][(colour, cloth_type)]['total_pieces'] %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{piece_weight | round(4)}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</table>\\n\\t\\t</div>\\t\\n\\t{% endfor %}\\n\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t<tr>\\n\\t\\t\\t<td colspan=\\\"5\\\"><h4>Accessory Summary</h4></td>\\n\\t\\t</tr>\\n\\t\\t<tr>\\n\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t<td class=\\\"table-head\\\">Cloth</td>\\n\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t</tr>\\n\\t\\t{% for cloth in doc.cutting_plan_accessory_details %}\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{loop.index}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{get_item_from_variant(cloth.cloth_item_variant)}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.cloth_type}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.colour}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.dia}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.used_weight}}</td>\\n\\t\\t\\t</tr>\\n\\t\\t{% endfor %}\\n\\t</table>\\n\\t<div class=\\\"avoid-page-break\\\">\\n\\t\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Cloth Received and Used Summary</h3>\\n\\t\\t<h4>Cloth Summary</h4>\\n\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Received Weight</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Balance Weight</td>        \\n\\t\\t\\t</tr>\\n\\t\\t\\t{% for cloth in doc.cutting_plan_cloth_details %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{loop.index}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{get_item_from_variant(cloth.cloth_item_variant)}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.cloth_type}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.colour}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.dia}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.weight}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.used_weight}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.balance_weight}}</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t{% endfor %}\\n\\t\\t</table>\\n\\t</div>\\t\\n\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Cutting Completion & Excess Panels Summary</h3>\\n\\t{% set items = remove_empty_rows(doc.completed_items_json, \\\"completed\\\") %}\\n\\t{% if items %}\\n\\t\\t<h4>Completed Pieces</h4>\\n\\t\\t<div>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t{% for i in items %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t{% if i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set primary_sum = {} %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No.</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ i['pack_attr'] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{i['set_item_attr']}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = primary_sum.update({val: 0}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ val }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Panels</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for j in i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ j['attributes'][i['pack_attr']] }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if doc.version == 'V2' %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] and j['attributes'][j['set_attr']] != j['major_attr_value'] and j['attributes'][i['pack_attr']] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ j['item_keys']['major_colour'] }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ j['attributes'][i['set_item_attr']] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for key, val in j['values'].items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if val > 0 %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set qty = primary_sum[key] + val %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = primary_sum.update({key: qty}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ val }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% else %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t--\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for panel in i[i['stiching_attr']][j['attributes'][i['set_item_attr']]] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ panel }}<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ primary_sum[val] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t{% endif %}\\t\\n\\t{% set items = remove_empty_rows(doc.incomplete_items_json, \\\"incompleted\\\") %}\\n\\t{% if items %}\\n\\t\\t<h4>Excess Panels</h4>\\n\\t\\t<div>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t{% for i in items %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t{% if i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No.</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ i['pack_attr'] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{i['set_item_attr']}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ val }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for j in i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ j['attributes'][i['pack_attr']] }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if doc.version == 'V2' %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] and j['attributes'][j['set_attr']] != j['major_attr_value'] and j['attributes'][i['pack_attr']] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ j['item_keys']['major_colour'] }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ j['attributes'][i['set_item_attr']] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for k, panel_dict in j['values'].items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for panel, count in panel_dict.items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if count > 0 %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ panel }} {{ count }}<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t{% endif %}\\t\\n</div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-09 17:09:48.352889",
 "modified_by": "Administrator",
 "module": "Production Api",
 "name": "Cutting Plan CCR",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}